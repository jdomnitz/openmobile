Startup args: -screencount=1 -!startupscreen=0 -ScreenSize=1000x600 -!ScreenSize=800x480 -!fullscreen

Player structure:
IMediaProvider (Base class):
  PlayBackInfo (class: Zone, MediaSourceIcon, MediaSourceText, MediaIcon, MediaString1, MediaString2, MediaString3 )
  list<SourceInfo> GetMediaSources ( SourceIcon, SourceText) which lists all available sources for this plugin
  bool SetMediaSource(Zone zone, SourceInfo) Sets the current source (Can be radio band, audio / video etc), must be one of the values reported by the GetMediaSources method 
  bool ActivatePlayer(Zone zone); previously setPowerState 
  bool DeactivatePlayer(Zone zone);
  getPlayerInfo(Zone zone) (class: activationState [On/Off], string Status)  

IMediaProvider_PlaybackControl: IMediaProvider (base class for playback control )
  bool Stop(Zone zone);
? bool Play(Zone zone);
? bool Play(Zone zone, string url, eMediaType type);
  bool Pause(Zone zone);
  bool Next(Zone zone);
  bool Prev(Zone zone);
  
IMediaProvider_PlaybackControlExtended: IMediaProvider_PlaybackControl (Extended class for playback control )
  bool setPlaybackPosition(Zone zone, float seconds);
  float getPlaybackPosition(Zone zone);
  bool Fwd(Zone zone);  Seek forward
  bool Bwd(Zone zone);  Seek bwd

IMediaProvider_Video: IPlaybackControl (Specific for video playback provider)
  SetVideoVisibility(Zone zone, bool visible);
  SetVideoPosition(Rectangle rect);

IMediaProvider_Audio: IMediaProvider_PlaybackControl (Specific for providing volume controls) 
  bool setVolume(Zone zone, int percent);
  int getVolume(Zone zone);
  
IMediaProvider_Radio : IMediaProvider (base class for radio)
  bool tuneTo(Zone zone,string station);  (Direct tuning)
  bool scanBand(Zone zone);
  bool Fwd(Zone zone);  Scan forward
  bool Bwd(Zone zone);  Scan bwd
  
  
 
    
  
  
TODO: 
  - Add "PhonePad" to OSK2
  - Edit Inputrouter skin to match changes in Zones (partially done)
  - Fix text alignment with multiple lines on generated graphics                                                  
  - OMTextBox: Change the way passwords are masked
  - Update to new style graphics
  - Map players to zones instead of audiodevice(Low priority)
  - Gauge doesn't respect transition data (and opacity level)
  - Change the way shuffle works when going backwards (should go trough a history of previously played records)
  - Expose media playlists trough it's own playlistHandler class
  - Complete the graphic class of the OMLogo
  - Update radio skin with new functionality and graphics (presets are unstable and radio doesn't restart)
  - Add default folder to video selection skin (replace videoplayer with a proper skin). 
  - Change the way mainmenu loads pluginmenu as it takes to long
  - Create a proper control demo skin with all controls
  - Idle detection (screen saver -> switch to plugin X after idle period y)
  - Clean up of UI skin
  - Change animation engine to use one common thread instead of one for each animation
  - Detect new audio sources being available for OM
  - Change OMCheckBox to use image instead of simple graphics
  - Add Dispose method to controls (OMControl)
  - Add layout support for OMContainer (all directions + grid)
  - Make fading edges of list control to show/hide relative to the list location (if list can't scroll any longer then hide soft edge)
  - Add "locked" scroll points to OMList2
  - Moving focus via keyboard has bugs in the OMContainer control
  - OSK2 has wrong color on shift buttons
  - Add support for overriding graphical methods of the UIHandler
  - Complete media controls
  - Add support for exposing available commands from a plugin
  - Infobanner animation has a slight bug with long texts
  - Main menu buttons needs an overhaul
  - Add direction (horizontal / vertical) to OMProgress
  - Add timeout to dialog
  - DataHandler: DataSources should disconnect from controls if they are not visible
  - Animation: Add property animator with "pluggable" effects
  - UIHandler: Add queue for notification registered before UIHandler is ready
  - Methods on OImage causes the cached image to be changed as well
  - Prosess events in the inputrouter in a way that we can stop calling events if it's handled
  - Add action selector to Settings type
  - Unknown commands should be logged to the debug log
  - Add support for "locking" a transition type to the panel
  - Create "ListBox" control used to select from a group of predefined values
  - Create "UpDown" control
  - Add "command" property to buttons (via OMControl)
  - Add delete command to the settings explorer
  - Add version ID in DB
  - Add command: OM;System.Idle.Reset
  - Make volume increments "stepped" 0 - 50% incremnts with 1 above wiht 5
  - OnPowerChange -> ePowerEvent.SystemResumed is not raised at resume
  - Add AudioHandler to control routing and volumes 
  - Clean up RenderingWindow interface
  - OM crashes if OpenMobile debug folder is missing
  - OSK2: Info text shows over text
  - OMContainer: Bug when moving invisible controls
  - Add supported OS flags to the plugin interfaces
  - Internet detected adds several notifications after resume
  - Internet available doesn't follow network available
  - Add errorhandling (null check _ActiveMediaProvider) to MediaProviderHandler.cs
  - Add better support for selecting files in OMDIR
 

OK  - Add location datasource
OK  - Create a updated OMList control that supports sub controls (OMObjectList)
OK  - Place zone name somewhere in the ui skin (topbar)
OK  - Add command for goto and show panel when loading a panel into the screenmanager      
OK  - Add command server
OK  - DataHandler: Spawn new threads when polling data so a slow data update / event won't block the polling engine
OK  - DataHandler: Queue subscriptions if datasource is not available (might become available later)
OK  - Clock and Date has missalingment certain times in the main menu
OK  - User selectable default transition effects (via settings)
OK  - Improve settings plugin
OK  - Properly scale text textures (resize should cause a regeneration of all text textures)
OK  - ThreadManager goes heywire and starts executing incorrect order of actions
OK  - Complete AnimatedLabel2
OK  - Complete Container2  
OK  - TransitionOutEverything doesn't work properly
OK  - V2Graphics.FillPolygon does not work properly (Changed to work via GDI works OK now)
OK  - Add pluginIcon property to iBasePlugin
OM  - Zone config panel is placed incorrectly with new ui skin


                      [NEW]     Added support for forcing an update of a datasource

Commited->            [BUGFIX]  Fixed a bug related to the internal visibilty causing a control the be hit tested even when not visible.
                      [NEW]     Added support for background image in the ui skin (with user setting)
                      [NEW]     Added new properties (TransitionEffect_Show and TransitionEffect_Hide) on OMPanel to help control what transition 
                                effect to use when showing / hideing the panel. NB! This only works if this is the only panel to transition in/out. 
                      [NEW]     Added new interface IVisibility which is explictly implemented on OMControl. This is used to control the visibility 
                                of a control in addition to the public Visible property.
                                The helper method OpenMobile.helperFunctions.Controls.Controls.SetInternalVisibility(OMControl control, bool visibility) 
                                is provided to help control this internal state from outside the control. 
                      [NEW]     Added time measurement when initializing plugins
                      [NEW]     Added new method to ScreenManager (base.PanelManager if using HighLevelCode as base class for plugin) 
                                -> QueuePanel that can be used to tell the system that a panel is available but OM shouldn't load it until it's needed. 
                      [NEW]     Added property MultiTags to OMControl to support multiple generic usage tags 

Commited->            [NEW]     Added OMImageFlow (A coverflow style control for images)
                      [NEW]     Added checked property to OMButton along with checked image  
                      [NEW]     Added full 3D rendering in OpenMobile
                      [NEW]     Added class GradientData to allow for custom gradient effects on rectangles and images
                      [NEW]     Added SupportedOSConfigurations attribute to enable plugins to set the OS configurations flags that's required
                                to use the plugin.  
                      [NEW]     Added support for disabling / enabling plugins via the settings plugin 
                      [NEW]     Started working on using mPlayer as a media player
                      [NEW]     Started work on new iMediaProvider interface that will replace the current iAVPlayer and iTunedContent interfaces

            20130126  [CHANGE]  Changed SystemEvent delegate to a more flexible format using an object array as arguments
                      [NEW]     Added control OMTargetWindow which is used to get a valid window handle

            20130112  [NEW]     Added autofit to OMLabels and any controls deriving from label
                      [BUGFIX]  Updated OMClock to center clock in relation to the controls area           

Commited->  20130109  [NEW]     Added more datasources and commands
                      [NEW]     Added idle detection and the option to run a command when idle is detected
                      [NEW]     Added support for running commands at startup

            20130107  [CHANGE]  Changed screenmanager to require a reference to a owner plugin at initialization

Commited->  20130103  [NEW]     Added CommandHandler and Command classes. Usage is via Host.CommandHandler...
                      [NEW]     Added additional dataviews and options for data export to OMWinInfo plugin

            20130101  [CHANGE]  Renamed class OpenMobile.Controls.ControlGroup to OpenMobile.Controls.ControlLayout
                      [CHANGE]  Made OMContainer.ControlGroup a public class instead of a local one in OMContainer.
                      [NEW]     Added support for adding a controlgroup directly to a panel (OMPanel.addControlGroup).
                      [BUGFIX]  Corrected a bug when getting the activescreen property from a panel during cloning operation
                      [NEW]     Added support for using a screen replacement property in inline data sources.

            20121229  [NEW]     Added class AudioDevice to handle audio devices internally in OM
                      [NEW]     Added property BasePoint to OMPanel to support offseting the placed controls on a panel
                      [NEW]     Added method Translate to OMControl
  
            20121228  [NEW]     Added base classes with a common code base for interfaces (BasePluginCode and HighLevelCode)
                      [BUGFIX]  Fixed a bug that caused loading of the debug plugin to fail if it was located in a subfolder
                      [NEW]     Implemented support for infobanner via the UIHandler. 

            20121225  [CHANGE]  Rewrote the image cache system
                      [NEW]     Added support for structuring plugins in separate folders with local image files saved in plugin folder
                      [NEW]     Added pluginIcon to iBasePlugin interface to ensure plugin developers provide an icon.
                      [CHANGE]  Changed all references in plugins to not copy source dll's to target folder
                      [CHANGE]  Changed output paths of plugins to build to a folder per plugin.
  
            20121221  [NEW]     Added support for deleting and clearing a setting in the database (StoredData.Delete() and StoredData.Clear())
                      [NEW]     Fixed some missing functionallity in the DataHandler.
                      [NEW]     Added more DataSources   
  
Commited->  20121218  [NEW]     Added OpenMobile.Framework.Data with DataSensors and DataHandler to support different datasources
                      [CHANGE]  Removed iSensorProvider and supporting code.
            20121215  [NEW]     Added OImage.Crop to allow cropping images
                      [NEW]     Added OImage.AddBorder to add a colored border around the image
                      [CHANGE]  Changed OMBasicShape to use a struct to specify data     
            20121208  [CHANGE]  Improved the OImage.Overlay method
                      [NEW]     Added OImage.SetAlpha to support setting the alpha level on an image
                      [NEW]     Added OImage.Glow to support glowing effects on an image   
            20121128  [NEW]     Added Host.StatusBarHandler that handles the top and bottom bars of the ui skin
                      [NEW]     Added ButtonStripContainer, ButtonStrip and Button classes to support custom toolbars
                      [NEW]     Added support for notifications from CDDB lookups for CD's
            20121120  [NEW]     Added option to set transition speed when using transitions between panels
                      [NEW]     Added new control OMObjectList. This is a very flexible list control that can consist of other controls.       
	          20121025  [NEW]     Added background color property to OMLabel
            20121001  [CHANGE]  Changed the way OMCheckBox is rendered to be more consistent
            20120930  [BUGFIX]  Corrected a bug in OMContainer where it would not use the correct colors for the vertical scrollbar

Commited->  20120924  [NEW]     Added control OMAnimatedLabel2 which supports different animation effects

Commited->  20120729  [CHANGE]  Modified the built in About panel to be more "generic". 

            20120728  [NEW]     Added control OMContainer2 which can hold any other control inside with scrollbars and proper keyboard handling

            20120723  [NEW]     Added setting to specify the default transition effect to use
                      [BUGFIX]  Corrected a bug in default OSK that made it return an empty string when pressing cancel

Commited->  20120722  [NEW]     Added property PanelType to class OMPanel. This is used to set the mode of the panel.
                                Possible values are "Normal" (normal panel type) and "Modal" (blocks all other panels)
                      [NEW]     Preloaded default OSK's can now be shown via the static method OSK.ShowDefaultOSK. This is a lot faster to use than
                                generating a new osk each time it's needed.
                      [NEW]     Added new transition effects for panels:
                                  - CollapseGrowCrossUL (Collapse out, Grow in, Crossfade effects, Target point upper left corner)        
                                  - CollapseGrowCrossCenter (Collapse out, Grow in, Crossfade effects, Target point center)        
                                  - CollapseGrowCenter (Collapse out, Grow in, Target point center)
                                  - Random (selects any of the registered transition effects except none)
                      [NEW]     Added setting for Transition speed multiplier (General setting) for controlling transition effects speed.
                      [NEW]     Added Rotate, Scale and transform methods to the graphics interface        


Commited->  20120627  [CHANGE]  Changed the rendering code in GameWindow to respect the given updates pr second value

            20120622  [CHANGE]  Changed Main thread model from STA to MTA.

            20120620  [CHANGE]  Renamed class PanelOutlineGraphic to PanelPopupOutlineGraphic
                      [NEW]     Added class PanelOutlineGraphic  

            20120618  [BUGFIX]  Corrected a bug in OAnimatedImage that made it skip a frame while animating.
                      [NEW]     Added more methods to helperFunctions.StoredData
                      
            20120617  [BUGFIX]  Added more errorhandling to ensure we don't access a null object in the input router code.
                      [BUGFIX]  Added more errorhandling to ensure resolutionchange event doesn't crash OM.


  
  Playlist functions:
      Excellent question. I'm thinking stop going backwards. This would be a cue to the user that you have reached the end of the buffer. They can then press Next or Play to resume random play.
      Of course, generating random songs is fine also, but there is no notice that they have reached the end of the buffer. Not important, but I personally prefer the first option to stop. Maybe one of those fancy pop-up banners saying "End of List" or something :-)
      Now, this brings up another question: While scrolling backwards through the buffer, and the user presses 'Next', does it move forward thru the buffer? Then when reaching that end of the buffer, does it stop or play random tracks again? I think when it reaches the "most recent" end of the buffer that it resumes random play.
      So basically, during random playback:
      
      - PREV scrolls backward through time through the buffer
      - When reaching the end, stop with message
      - NEXT scrolls forward through time through the buffer
      - When reaching the end, continue with random play
      - PLAY (while not paused) jumps to end of the buffer (most recent) and resumes random play
      - PLAY (while paused) plays resumes where left off when PAUSE pressed.

Commited->  20120401  [NEW]     OpenMobile.Graphics: Added OpenGL method PushMatrix and Shear methods to Matrix4 and Matrix4d

            20120327  [CHANGE]  Struct definition for imageItem moved to OpenMobile.Graphics dll to support returning imageItem data directly from the graphics dll.
                      [CHANGE]  Changed OpenGL texture binding mode from ClampToEdge to ClampToBorder to ensure no textures goes outside it's bounds.

            20120326  [BUGFIX]  Corrected a bug in PluginHost.getSkinImage that prevented it from properly loading fully named images.
                      [NEW]     Added BitMap effects filters in OpenMobile.Graphics.BitmapFilter
                      [NEW]     Added method GetReflection to OImage to support generating reflections from images   

            20120323  [CHANGE]  Class PlayList renamed to PlayListHandler.
                      [NEW]     Added new class PlayList for generating a playlist object.   
    
            20120321  [CHANGE]  Added thread lock for GameWindow rendering to remove context switching failures (Graphics.cs:OpenMobile.GameWindow.OnRenderFrameInternal).
                                Similar problem here: http://www.opentk.com/node/1714                        
  
Commited->  20120318  [BUGFIX]  RemovableDB reported slow indexing files as "failure", this has now been corrected.
                      [CHANGE]  BackgroundStatus messages for "Indexing complete!" and "Database cleared!" has now been replaced with 
                                these MediaEvents: eFunction.MediaIndexingCompleted and eFunction.MediaDBCleared
                      [CHANGE]  SystemSettings class moved from Helperfunctions to BuiltInComponents. All system settings can now be read directly via properties from 
                                BuiltInComponents.SystemSettings.{PropertyName}
                      [NEW]     Added SystemSetting property SkinTextColor. This should be used for all text output in the skin. All OMControls will respect this property if no color
                                is specifially set for the control.
                      [NEW]     Started work on more graphics (Button graphics) in OMGraphics.     
  
Commited->  20120317  [CHANGE]  Zone "All" is no by default locked to screen 0 (main screen)
                      [BUGFIX]  Fixed a bug that would block setting the state of "shuffle"
                      [BUGFIX]  OMOSK2 now reacts correctly to enter and escape from a external keyboard
                      [BUGFIX]  Gesturecode now correctly identifies panels according to the z order (NB! UI Is always on top so this will be reported as panel/plugin) 
                                if no control is highlighted at start of gesture) 


Commited->  20120316  [NEW]     Added a new Gesture event handler. This has the possibility to block other gesture subscribers from receiving the gesture if it's already handled.
                      [CHANGE]  Removed the eFunction.Gesture event as this now is replaced by a custom gesteure handler. 

Commited->  20120315  [NEW]     Added property "AllowedScreens" to Zone object. This can be used to set which screens this zone can be activated on (default is any screen) 

Commited->  20120313  [BUGFIX]  Fixed a bug in ZoneHandler.GetZone that caused an inifinte loop.
                      [BUGFIX]  Reenabled playlist and shuffle setting saving to database.
                      [NEW]     Added long click option to Volume buttons in the UI skin. Hold for adjusting up / down.
                      [NEW]     Added gesture support to OMOSK2   


Commited->  20120310  [CHANGE]  eFunction.backgroundOperationStatus replaced with Pluginhost method SendStatusData(eDataType DataType, IBasePlugin SourcePlugin, string SourceTag, string Message)
                                Please note: eFunction.backgroundOperationStatus will be removed at a later commit so update your code!
                                This method should also be used as a general information message (UI skin should monitor the backgroundOperationStatus event)
                      [NEW]     Added method OpenMobile.helperFunctions.Arguments.GetScreenFromArg that can be used to extract the screen number from a event argument string (if any). 
                      [NEW]     Added method OpenMobile.helperFunctions.Arguments.GetDataTypeFromArg that can be used to extract the eDataType from a event argument string (if any).
                      [NEW]     Added class OpenMobile.helperFunctions.EnumUtils for helpermethods for enums
                      [BUGFIX]  Fixed a bug in OMWinHAl that caused it to fire double events for volume notifications
                      [NEW]     Added Opacity property to all OMControl objects (all controls) that can be used to set the transparency level for any object.
                      [NEW]     Added OpenMobile.helperFunctions.SystemSettings class wich exposes OM system settings. Use this class instead of directly accessing
                                the named property in the database.
                      [BUGFIX]  Fixed a bug in OMSettings where autogenerated controls would move further and further down the list on second monitor
                      [NEW]     Added setting UI.SkinFocusColor wich is used to set the skin focus color. This setting can be found 
                                under Settings->General Settings-> Focus color. Value must be set like this 00,00,FF (Blue) and FF,00,00 (Red).  
                      [NEW]     Added +/- button to UI skin to control volume in addition to slider

COMMITED->  20120309  [NEW]     Created new OpenMobile.helperFunctions.Graphics.SmoothAnimator class that can animate objects in a 
                                smooth manner regardless of system speed.
                      [BUGFIX]  Corrected a bug in the MainMenu that prevented assigned buttons from being unassinged.
                      [BUGFIX]  Screen numbers in the input router skin is now the same as the ones used in zone settings. 

COMMITED->  20120308  [BUGFIX]  Zones can now be edited without the need for changing the name
                      [BUGFIX]  RenderingWindow_KeyDown no longer generates a NullReferenceException
                      [BUGFIX]  OMOSK2 didn't respond to keyboard for moving focused around, this is now corrected.
                      [BUGFIX]  OpenMobile.Graphics.OImage.SetTexture should no longer throw a NullReferenceException causing OM to crash hard.
                      [BUGFIX]  GetTunedContentInfo threw a IndexOutOfRangeException for zones, this is now corrected   
                      [BUGFIX]  ZoneHandler.GetActiveZone no longer throws a "Index was outside the bounds of the array" exception.
                      [CHANGE]  Changed all OSK references to use new OMOSK2 instead
                      [CHANGE]  Old OSK marked as obsolete
                      [NEW]     Added StoredData.GetBool(string Name) to support getting a bool value directly from the SB settings   
          
          